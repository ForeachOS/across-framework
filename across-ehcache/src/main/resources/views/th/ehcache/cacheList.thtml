<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>List ehcache caches</title>
</head>
<body th:fragment="content">
<div class="debug-ehcache">
	<h3>Cache list</h3>

	<div class="feedback" th:if="${param.flushed}">
		<span th:text="${param.flushed[0]}">0</span> cache(s) have been flushed.
	</div>

	<div>
		<a th:href="@{${debugRoot} + '/ehcache/flush'}" onclick="return confirm('Are you sure you want to flush all caches?');">flush</a>
		<a th:href="@{${debugRoot} + '/ehcache'}">refresh</a>
	</div>

	<div class="cache" th:each="cache : ${cacheList}">
		<table class="cache-details" th:object="${cache}">
			<tr>
				<th colspan="2" class="cache-name">
					<a href="#" th:href="@{${debugRoot} + '/ehcache/view'(cache=${cache.name})}" th:text="${cache.name}">cache
						name</a>
				</th>
			</tr>
			<tr>
				<th>Items</th>
				<td th:text="*{size}">0</td>
			</tr>
			<tr>
				<th>Size</th>
				<td th:text="*{statistics.calculateMemorySize()}"></td>
			</tr>
			<tr>
				<th>Hits</th>
				<td th:text="*{statistics.cacheHits}">0</td>
			</tr>
			<tr>
				<th>Misses</th>
				<td th:text="*{statistics.cacheMisses}">${stats.cacheMisses}</td>
			</tr>
			<tr>
				<th>Ratio</th>
				<td th:text="*{#numbers.formatDecimal(((statistics.cacheHits * 1.0) / (statistics.cacheHits + statistics.cacheMisses)) * 100, 1, 2)} + ' %'">
					100 %
				</td>
			</tr>
			<tr>
				<th>Evictions</th>
				<td th:text="*{statistics.evictionCount}">0</td>
			</tr>
			<tr>
				<th>Avg get time</th>
				<td th:text="*{#numbers.formatDecimal(statistics.averageGetTime,1,2)} + ' ms'">0 ms</td>
			</tr>
		</table>
	</div>
</div>
</body>
</html>